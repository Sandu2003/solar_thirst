<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Request</title>
    <link rel="stylesheet" href="sr.css"> <!-- Adjust path -->
    <script src="Scripts.js"></script>
</head>
<body>
    <div class="sidebar">
        <h2>Customer Dashboard</h2>
        <nav>
            <ul>
                <li><a href="../sr_form/Service_request.html">Service Request</a></li>
                <li><a href="../quotation/view_quotation.html">View Quotation</a></li>
                <li><a href="../complaints/complaints.html">Submit a Complaint</a></li>
                <li><a href="../package_request.html">Upgrade/Downgrade Package</a></li>
                <li><a href="process_flow.html">Process Flow</a></li>
                <li><a href="contact.html">Contact Us</a></li>
            </ul>
        </nav>
    </div>

    <div class="content">
        <h2>Service Request Form</h2>
        <form id="serviceRequestForm" action="submit_request.php" method="POST" enctype="multipart/form-data">
            
            <label for="requestType">Request Type:</label>
            <select id="requestType" name="requestType" required onchange="toggleInstallationFields()">
                <option value="service">Service Request</option>
                <option value="installation">Installation</option>
                <option value="upgrade">Upgrade</option>
            </select>
            <br><br>

            <!-- Installation-related fields -->
            <div id="installationFields" style="display: none;">
                <label for="fullName">Full Name:</label>
                <input type="text" id="fullName" name="fullName" required>
                <br><br>
        
                <label for="idCard">Upload ID Card Copy:</label>
                <input type="file" id="idCard" name="idCard" accept="image/*" required>
                <br><br>
        
                <label for="loanOption">Have you taken a loan for this service?</label>
                <select id="loanOption" name="loanOption" required onchange="togglePaymentFields()">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
                <br><br>
        
                <div id="paymentSection">
                    <label for="paymentReceipt">Upload Payment Confirmation Receipt:</label>
                    <input type="file" id="paymentReceipt" name="paymentReceipt" accept="image/*">
                    <br><br>
                </div>
        
                <div id="loanSection" style="display: none;">
                    <label for="loanReceipt">Upload Loan Confirmation Receipt:</label>
                    <input type="file" id="loanReceipt" name="loanReceipt" accept="image/*">
                    <br><br>
                </div>
        
                <label for="chosenPlan">Chosen Plan:</label>
                <select id="chosenPlan" name="chosenPlan" onchange="toggleCustomPlanField()">
                    <option value="company_decide">Let the company decide the best plan</option>
                    <option value="custom">Enter your preferred plan</option>
                </select>
                <br><br>
        
                <div id="customPlanSection" style="display: none;">
                    <label for="customPlanText">Enter Your Preferred Plan:</label>
                    <input type="text" id="customPlanText" name="customPlanText">
                    <br><br>
                </div>
        
                <label for="lightBill">Upload Latest Light Bill:</label>
                <input type="file" id="lightBill" name="lightBill" accept="image/*" required>
                <br><br>
            </div>
        
            <button type="submit">Submit Request</button>
        </form>
        
           </div>

    <script>
        // JavaScript to toggle installation-related fields
        function toggleInstallationFields() {
            var requestType = document.getElementById('requestType').value;
            var installationFields = document.getElementById('installationFields');
            if (requestType === 'installation') {
                installationFields.style.display = 'block';
            } else {
                installationFields.style.display = 'none';
            }
        }

        // JavaScript to toggle loan-related fields
        function togglePaymentFields() {
            var loanOption = document.getElementById('loanOption').value;
            var loanSection = document.getElementById('loanSection');
            var paymentSection = document.getElementById('paymentSection');
            if (loanOption === 'yes') {
                loanSection.style.display = 'block';
                paymentSection.style.display = 'none';
            } else {
                loanSection.style.display = 'none';
                paymentSection.style.display = 'block';
            }
        }

        // JavaScript to toggle custom plan field
        function toggleCustomPlanField() {
            var chosenPlan = document.getElementById('chosenPlan').value;
            var customPlanSection = document.getElementById('customPlanSection');
            if (chosenPlan === 'custom') {
                customPlanSection.style.display = 'block';
            } else {
                customPlanSection.style.display = 'none';
            }
        }
    </script>
</body>
</html>
